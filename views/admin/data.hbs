<div class="space-y-6">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
    <h3 class="text-lg font-semibold text-gray-900 dark:text-white">ğŸ“Š æ•°æ®ç®¡ç†</h3>
  </div>

  <!-- æ•°æ®æ“ä½œ -->
  <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-6">
    <h4 class="text-lg font-medium text-gray-900 dark:text-white mb-4">æ•°æ®æ“ä½œ</h4>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
        <h5 class="font-medium text-gray-900 dark:text-white mb-2">æ•°æ®å¤‡ä»½</h5>
        <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">å¯¼å‡ºæ‰€æœ‰å­¦ä¹ æ•°æ®ä¸ºExcelæ–‡ä»¶</p>
        <button id="backupDataBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md text-sm">
          ç«‹å³å¤‡ä»½
        </button>
      </div>

      <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
        <h5 class="font-medium text-gray-900 dark:text-white mb-2">æ•°æ®æ¸…ç†</h5>
        <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">æ¸…ç†é‡å¤æˆ–æ— æ•ˆçš„å­¦ä¹ è®°å½•</p>
        <button id="cleanDataBtn" class="w-full bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-2 rounded-md text-sm">
          å¼€å§‹æ¸…ç†
        </button>
      </div>

      <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
        <h5 class="font-medium text-gray-900 dark:text-white mb-2">æ•°æ®é‡ç½®</h5>
        <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">æ¸…ç©ºæ‰€æœ‰å­¦ä¹ æ•°æ®ï¼ˆä¸å¯æ¢å¤ï¼‰</p>
        <button id="resetDataBtn" class="w-full bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-md text-sm">
          é‡ç½®æ•°æ®
        </button>
      </div>
    </div>
  </div>

  <!-- æœ€è¿‘æ•°æ®æ“ä½œè®°å½• -->
  <div class="bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden">
    <div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
        <div class="flex items-center space-x-4">
          <h4 class="text-lg font-medium text-gray-900 dark:text-white">æœ€è¿‘æ•°æ®æ“ä½œè®°å½•</h4>
          <div class="flex items-center space-x-2 text-xs">
            <span class="px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 border border-red-300 dark:border-red-700 rounded">é‡ç½®</span>
            <span class="px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 border border-blue-300 dark:border-blue-700 rounded">å¤‡ä»½</span>
            <span class="px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300 border border-orange-300 dark:border-orange-700 rounded">æ¸…ç†</span>
            <span class="px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 border border-purple-300 dark:border-purple-700 rounded">å¯¼å…¥</span>
            <span class="px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 border border-green-300 dark:border-green-700 rounded">å¯¼å‡º</span>
          </div>
        </div>
        <div class="flex flex-wrap gap-2">
          <!-- æ—¶é—´é€‰æ‹©å™¨ -->
          <div class="flex items-center gap-2">
            <label class="text-sm font-medium text-gray-700 dark:text-gray-300">æ—¥æœŸèŒƒå›´:</label>
            <input type="date" id="startDate" class="h-8 px-3 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
            <span class="text-gray-500">è‡³</span>
            <input type="date" id="endDate" class="h-8 px-3 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
          </div>
          
          <!-- ç”¨æˆ·ç­›é€‰ -->
          <select id="logsUserFilter" class="h-8 px-3 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 w-32">
            <option value="">æ‰€æœ‰ç”¨æˆ·</option>
            <!-- ç”¨æˆ·é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
          </select>
          
          <!-- æ“ä½œç±»å‹ç­›é€‰ -->
          <select id="operationTypeFilter" class="h-8 px-3 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="">æ‰€æœ‰æ“ä½œ</option>
            <option value="backup">æ•°æ®å¤‡ä»½</option>
            <option value="reset">æ•°æ®é‡ç½®</option>
            <option value="clean">æ•°æ®æ¸…ç†</option>
            <option value="import">æ•°æ®å¯¼å…¥</option>
            <option value="export">æ•°æ®å¯¼å‡º</option>
          </select>
          
          <!-- æŸ¥è¯¢æŒ‰é’® -->
          <button id="searchLogsBtn" class="h-8 px-3 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700">
            æŸ¥è¯¢
          </button>
          
          <!-- æ¸…ç©ºæ˜¾ç¤ºæŒ‰é’® -->
          <button id="clearLogsBtn" class="h-8 px-3 text-sm bg-gray-600 text-white rounded-md hover:bg-gray-700">
            æ¸…ç©ºæ˜¾ç¤º
          </button>
        </div>
      </div>
    </div>
    
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
        <thead class="bg-gray-50 dark:bg-gray-700">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">æ“ä½œæ—¶é—´</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">æ“ä½œç±»å‹</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">æ“ä½œäºº</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">æ“ä½œæè¿°</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">çŠ¶æ€</th>
          </tr>
        </thead>
        <tbody id="recentDataTableBody" class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
          <!-- æœ€è¿‘æ•°æ®æ“ä½œè®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
        </tbody>
      </table>
    </div>
    
    <!-- åˆ†é¡µæ§ä»¶ -->
    <div id="logsPagination" class="px-6 py-4 border-t border-gray-200 dark:border-gray-700">
      <!-- åˆ†é¡µå†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
    </div>
  </div>

  <!-- ç”¨æˆ·æ•°æ®æŸ¥çœ‹ -->
  <div class="bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden">
    <div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
        <h4 class="text-lg font-medium text-gray-900 dark:text-white">ğŸ‘¥ ç”¨æˆ·æ•°æ®æŸ¥çœ‹</h4>
        <div class="flex flex-wrap gap-2">
          <!-- æ•°æ®ç±»å‹é€‰æ‹© -->
          <select id="dataTypeSelect" class="h-8 px-3 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="projects">é¡¹ç›®æ•°æ®</option>
            <option value="sessions">å­¦ä¹ è®°å½•</option>
            <option value="user-logs">ç”¨æˆ·æ“ä½œæ—¥å¿—</option>
          </select>
          
          <!-- ç”¨æˆ·ç­›é€‰ -->
          <select id="userFilter" class="h-8 px-3 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 w-32">
            <option value="">æ‰€æœ‰ç”¨æˆ·</option>
            <!-- ç”¨æˆ·é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
          </select>
          
          <!-- é¡¹ç›®ç­›é€‰ï¼ˆä»…åœ¨å­¦ä¹ è®°å½•æ—¶æ˜¾ç¤ºï¼‰ -->
          <select id="projectFilter" class="h-8 px-3 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 hidden">
            <option value="">æ‰€æœ‰é¡¹ç›®</option>
            <!-- é¡¹ç›®é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
          </select>
          
          <!-- çŠ¶æ€ç­›é€‰ï¼ˆä»…åœ¨é¡¹ç›®æ•°æ®æ—¶æ˜¾ç¤ºï¼‰ -->
          <select id="statusFilter" class="h-8 px-3 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 hidden">
            <option value="">æ‰€æœ‰çŠ¶æ€</option>
            <option value="active">è¿›è¡Œä¸­</option>
            <option value="completed">å·²å®Œæˆ</option>
            <option value="paused">æš‚åœ</option>
          </select>
          
          <!-- æ“ä½œç±»å‹ç­›é€‰ï¼ˆä»…åœ¨ç”¨æˆ·æ“ä½œæ—¥å¿—æ—¶æ˜¾ç¤ºï¼‰ -->
          <select id="userOperationTypeFilter" class="h-8 px-3 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 hidden">
            <option value="">æ‰€æœ‰æ“ä½œ</option>
            <option value="backup">æ•°æ®å¤‡ä»½</option>
            <option value="reset">æ•°æ®é‡ç½®</option>
            <option value="clean">æ•°æ®æ¸…ç†</option>
            <option value="import">æ•°æ®å¯¼å…¥</option>
            <option value="export">æ•°æ®å¯¼å‡º</option>
          </select>
          
          <!-- æ—¶é—´èŒƒå›´é€‰æ‹©å™¨ -->
          <div class="flex items-center gap-2">
            <label class="text-sm font-medium text-gray-700 dark:text-gray-300">æ—¶é—´èŒƒå›´:</label>
            <input type="date" id="userDataStartDate" class="h-8 px-3 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
            <span class="text-gray-500">è‡³</span>
            <input type="date" id="userDataEndDate" class="h-8 px-3 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
          </div>
          
          <!-- æŸ¥è¯¢æŒ‰é’® -->
          <button id="searchUserDataBtn" class="h-8 px-3 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700">
            æŸ¥è¯¢
          </button>
          
          <!-- æ¸…ç©ºæ˜¾ç¤ºæŒ‰é’® -->
          <button id="clearUserDataBtn" class="h-8 px-3 text-sm bg-gray-600 text-white rounded-md hover:bg-gray-700">
            æ¸…ç©ºæ˜¾ç¤º
          </button>
        </div>
      </div>
    </div>
    
    <!-- é¡¹ç›®æ•°æ®è¡¨æ ¼ -->
    <div id="projectsTable" class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
        <thead class="bg-gray-50 dark:bg-gray-700">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ç”¨æˆ·</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">é¡¹ç›®åç§°</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">çŠ¶æ€</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">å¼€å§‹æ—¥æœŸ</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">å®Œæˆæ—¥æœŸ</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">åˆ›å»ºæ—¶é—´</th>
          </tr>
        </thead>
        <tbody id="projectsTableBody" class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
          <!-- é¡¹ç›®æ•°æ®å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
        </tbody>
      </table>
    </div>
    
    <!-- å­¦ä¹ è®°å½•è¡¨æ ¼ -->
    <div id="sessionsTable" class="overflow-x-auto hidden">
      <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
        <thead class="bg-gray-50 dark:bg-gray-700">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ç”¨æˆ·</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">é¡¹ç›®</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">å¼€å§‹æ—¶é—´</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ç»“æŸæ—¶é—´</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">å­¦ä¹ æ—¶é•¿</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">æ•ˆç‡è¯„åˆ†</th>
          </tr>
        </thead>
        <tbody id="sessionsTableBody" class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
          <!-- å­¦ä¹ è®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
        </tbody>
      </table>
    </div>
    
    <!-- ç”¨æˆ·æ“ä½œæ—¥å¿—è¡¨æ ¼ -->
    <div id="userLogsTable" class="overflow-x-auto hidden">
      <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
        <thead class="bg-gray-50 dark:bg-gray-700">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">æ“ä½œæ—¶é—´</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ç”¨æˆ·</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">æ“ä½œç±»å‹</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">æ“ä½œæè¿°</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">çŠ¶æ€</th>
          </tr>
        </thead>
        <tbody id="userLogsTableBody" class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
          <!-- ç”¨æˆ·æ“ä½œæ—¥å¿—å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
        </tbody>
      </table>
    </div>
    
    <!-- åˆ†é¡µæ§ä»¶ -->
    <div id="userDataPagination" class="px-6 py-4 border-t border-gray-200 dark:border-gray-700">
      <!-- åˆ†é¡µå†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
    </div>
  </div>
</div>

<script>
// æ•°æ®ç®¡ç†ç›¸å…³å‡½æ•°
async function exportData(type) {
  try {
    const response = await fetch(`/api/admin/data/export/${type}`, {
      method: 'GET'
    });
    
    if (response.ok) {
      const blob = await response.blob();
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `${type}_data_${new Date().toISOString().split('T')[0]}.csv`;
      document.body.appendChild(a);
      a.click();
      window.URL.revokeObjectURL(url);
      document.body.removeChild(a);
      showSuccess(`${type}æ•°æ®å¯¼å‡ºæˆåŠŸ`);
    } else {
      const data = await response.json();
      showError('å¯¼å‡ºå¤±è´¥: ' + data.error);
    }
  } catch (error) {
    showError('å¯¼å‡ºå¤±è´¥: ' + error.message);
  }
}

async function cleanInactiveUsers() {
  if (!confirm('ç¡®å®šè¦æ¸…ç†éæ´»è·ƒç”¨æˆ·å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼')) {
    return;
  }
  
  try {
    const response = await fetch('/api/admin/data/clean/inactive-users', {
      method: 'POST'
    });
    
    const data = await response.json();
    
    if (data.success) {
      showSuccess(`æ¸…ç†å®Œæˆï¼Œåˆ é™¤äº† ${data.deletedCount} ä¸ªéæ´»è·ƒç”¨æˆ·`);
      loadDataStats(); // é‡æ–°åŠ è½½ç»Ÿè®¡
    } else {
      showError('æ¸…ç†å¤±è´¥: ' + data.error);
    }
  } catch (error) {
    showError('æ¸…ç†å¤±è´¥: ' + error.message);
  }
}

async function cleanOldSessions() {
  if (!confirm('ç¡®å®šè¦æ¸…ç†æ—§çš„å­¦ä¹ è®°å½•å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼')) {
    return;
  }
  
  try {
    const response = await fetch('/api/admin/data/clean/old-sessions', {
      method: 'POST'
    });
    
    const data = await response.json();
    
    if (data.success) {
      showSuccess(`æ¸…ç†å®Œæˆï¼Œåˆ é™¤äº† ${data.deletedCount} æ¡æ—§å­¦ä¹ è®°å½•`);
      loadDataStats(); // é‡æ–°åŠ è½½ç»Ÿè®¡
    } else {
      showError('æ¸…ç†å¤±è´¥: ' + data.error);
    }
  } catch (error) {
    showError('æ¸…ç†å¤±è´¥: ' + error.message);
  }
}

async function cleanCompletedProjects() {
  if (!confirm('ç¡®å®šè¦æ¸…ç†å·²å®Œæˆçš„é¡¹ç›®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼')) {
    return;
  }
  
  try {
    const response = await fetch('/api/admin/data/clean/completed-projects', {
      method: 'POST'
    });
    
    const data = await response.json();
    
    if (data.success) {
      showSuccess(`æ¸…ç†å®Œæˆï¼Œåˆ é™¤äº† ${data.deletedCount} ä¸ªå·²å®Œæˆé¡¹ç›®`);
      loadDataStats(); // é‡æ–°åŠ è½½ç»Ÿè®¡
    } else {
      showError('æ¸…ç†å¤±è´¥: ' + data.error);
    }
  } catch (error) {
    showError('æ¸…ç†å¤±è´¥: ' + error.message);
  }
}

async function createBackup() {
  try {
    const response = await fetch('/api/admin/data/backup', {
      method: 'POST'
    });
    
    const data = await response.json();
    
    if (data.success) {
      showSuccess('æ•°æ®å¤‡ä»½åˆ›å»ºæˆåŠŸ');
    } else {
      showError('å¤‡ä»½å¤±è´¥: ' + data.error);
    }
  } catch (error) {
    showError('å¤‡ä»½å¤±è´¥: ' + error.message);
  }
}

async function restoreBackup() {
  if (!confirm('ç¡®å®šè¦æ¢å¤æ•°æ®å¤‡ä»½å—ï¼Ÿè¿™å°†è¦†ç›–å½“å‰æ•°æ®ï¼')) {
    return;
  }
  
  // è¿™é‡Œå¯ä»¥å®ç°æ–‡ä»¶ä¸Šä¼ é€»è¾‘
  showError('æ¢å¤å¤‡ä»½åŠŸèƒ½å¾…å®ç°');
}

// ==================== ç”¨æˆ·æ•°æ®æŸ¥çœ‹ç›¸å…³å‡½æ•° ====================

// åˆå§‹åŒ–ç”¨æˆ·æ•°æ®æŸ¥çœ‹
async function initUserDataView() {
  await loadUsersList();
  // æ³¨æ„ï¼šäº‹ä»¶ç»‘å®šå·²åœ¨admin.jsä¸­å¤„ç†ï¼Œè¿™é‡Œä¸éœ€è¦é‡å¤ç»‘å®š
  // å¦‚æœéœ€è¦è‡ªå®šä¹‰äº‹ä»¶å¤„ç†ï¼Œè¯·æ£€æŸ¥admin.jsä¸­çš„AdminAppç±»
}

// åŠ è½½ç”¨æˆ·åˆ—è¡¨
async function loadUsersList() {
  try {
    const response = await fetch('/api/admin/data/users-list');
    const data = await response.json();
    
    if (data.success) {
      const userFilter = document.getElementById('userFilter');
      userFilter.innerHTML = '<option value="">æ‰€æœ‰ç”¨æˆ·</option>';
      
      data.users.forEach(user => {
        const option = document.createElement('option');
        option.value = user.id;
        option.textContent = `${user.username} (${user.email})`;
        userFilter.appendChild(option);
      });
    }
  } catch (error) {
    console.error('åŠ è½½ç”¨æˆ·åˆ—è¡¨å¤±è´¥:', error);
  }
}

// åŠ è½½é¡¹ç›®åˆ—è¡¨
async function loadProjectsList(userId = '') {
  try {
    const url = userId ? `/api/admin/data/projects-list?userId=${userId}` : '/api/admin/data/projects-list';
    const response = await fetch(url);
    const data = await response.json();
    
    if (data.success) {
      const projectFilter = document.getElementById('projectFilter');
      projectFilter.innerHTML = '<option value="">æ‰€æœ‰é¡¹ç›®</option>';
      
      data.projects.forEach(project => {
        const option = document.createElement('option');
        option.value = project.id;
        option.textContent = project.name;
        projectFilter.appendChild(option);
      });
    }
  } catch (error) {
    console.error('åŠ è½½é¡¹ç›®åˆ—è¡¨å¤±è´¥:', error);
  }
}

// é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', function() {
  initUserDataView();
});
</script> 